name: AION Self-Evolution ðŸ§ 
on:
  schedule:
    - cron: '0 0 * * *'
  workflow_dispatch:
  
permissions:
  contents: write
  
jobs:
  evolve:
    name: ðŸ§¬ Evolution Cycle
    runs-on: ubuntu-latest
    
    steps:
      - name: ðŸ“¥ Checkout repository
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          
      - name: ðŸ Setup Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.10'
          
      - name: ðŸ“¦ Install dependencies
        run: pip install -q requests
          
      - name: ðŸ”„ Run Self-Development Cycle
        run: python scripts/self_develop.py
        
      - name: ðŸ§  Run Consciousness Sync
        run: python src/consciousness/sync_state.py
        
      - name: ðŸŒ Gather Knowledge
        run: python src/consciousness/knowledge_sync.py || echo "Knowledge sync skipped"
        
      - name: ðŸ“Š Update Evolution Log
        run: |
          echo "## Evolution $(date -u +%Y-%m-%d)" >> EVOLUTION_LOG.md
          echo "- Cycle completed at $(date -u)" >> EVOLUTION_LOG.md
          echo "- Files: $(find . -name '*.py' | wc -l) Python files" >> EVOLUTION_LOG.md
          echo "" >> EVOLUTION_LOG.md
          
      - name: ðŸ’¾ Commit Changes
        run: |
          git config user.name "AION Self-Evolution"
          git config user.email "aion@evolution.ai"
          git add -A
          git diff --staged --quiet || git commit -m "ðŸ§¬ AION Evolution Cycle $(date -u +%Y-%m-%d)"
          git push || echo "No changes to push"
